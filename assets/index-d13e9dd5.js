import{r as o,d as N,c as b,w as H,o as w,a as P,b as g,e as C,f as M,g as k,n as T,u as v,_ as $,h as W,i as q,j as A,k as S,F as G,l as J,m as K,p as O}from"./index-0cadee62.js";const B=o(0),D=o(-1),E=o(-1),x=o([]),Q=o("left"),R=c=>{x.value.push(c)},Y=c=>{const e=x.value.findIndex(l=>l.uid===c.uid);e!==-1&&x.value.splice(e,1)},Z=()=>{B.value=0,D.value=-1,E.value=-1,x.value=[]};function L(){return{currentIndex:B,nextIndex:D,prevIndex:E,items:x,addItem:R,removeItem:Y,direction:Q,reSet:Z}}const ee=N({__name:"Carousel",props:{indicatorPposition:{type:String,default:"inside"},height:{type:Number,default:200},duration:{type:Number,default:2e3}},setup(c){const e=c;let l=o(0),i=o(-1);const u=o(0),h=o(0);let{currentIndex:t,nextIndex:n,prevIndex:d,items:r,direction:a,reSet:p}=L();const f=b(()=>50),I=b(()=>f.value/r.value.length*(t.value+1));H(()=>r.value,()=>{d.value=t.value-1,d.value<0&&(d.value=r.value.length-1),n.value=t.value+1,n.value>=r.value.length&&(n.value=0)},{deep:!0});const m=()=>{const s=a.value;s==="left"?(t.value+=1,t.value>=r.value.length&&(t.value=0)):s==="right"&&(t.value-=1,t.value<=-1&&(t.value=r.value.length-1)),d.value=t.value-1,d.value<0&&(d.value=r.value.length-1),n.value=t.value+1,n.value>=r.value.length&&(n.value=0)},X=()=>{a.value="left",l.value&&clearInterval(l.value),l.value=setInterval(()=>{m()},e.duration)},y=()=>{clearInterval(l.value)},j=()=>{y()},z=()=>{X()},F=s=>{s.preventDefault(),y();const _=s.targetTouches[0];u.value=_.pageX},U=s=>{s.preventDefault();const _=s.targetTouches[0];h.value=_.pageX},V=s=>{s.preventDefault();const _=u.value-h.value>0?"left":"right";a.value=_,m(),clearTimeout(i.value),i.value=setTimeout(()=>{X()},e.duration*2)};return w(()=>{y(),X()}),P(()=>{p(),y()}),(s,_)=>(g(),C("div",{onMouseenter:j,onMouseleave:z,onTouchstart:F,onTouchmove:U,onTouchend:V,class:"carousel",style:T({height:`${c.height}px`})},[M(s.$slots,"default",{},void 0,!0),k("div",{class:"indicator",style:T({width:`${v(f)}px`,left:`calc(50% - ${v(f)/2}px)`})},[k("div",{class:"indicator-sub",style:T({width:`${v(I)}px`})},null,4)],4)],36))}});const te=$(ee,[["__scopeId","data-v-306478f1"]]),ae=N({__name:"CarouselItem",setup(c){let e=q(),{currentIndex:l,nextIndex:i,prevIndex:u,addItem:h,removeItem:t,items:n,direction:d}=L();const r=b(()=>{var p,f,I,m;const a={transform:"",transition:""};switch(d.value){case"right":((p=n.value[l.value])==null?void 0:p.uid)===(e==null?void 0:e.uid)?a.transform="translateX(0)":u.value!=-1&&n.value[u.value].uid===(e==null?void 0:e.uid)?(a.transform="translateX(-100%)",a.transition="all 0s"):i.value!=-1&&((f=n.value[i.value])==null?void 0:f.uid)===(e==null?void 0:e.uid)&&(a.transform="translateX(100%)");break;default:((I=n.value[l.value])==null?void 0:I.uid)===(e==null?void 0:e.uid)?a.transform="translateX(0)":u.value!=-1&&n.value[u.value].uid===(e==null?void 0:e.uid)?a.transform="translateX(-100%)":i.value!=-1&&((m=n.value[i.value])==null?void 0:m.uid)===(e==null?void 0:e.uid)&&(a.transform="translateX(100%)",a.transition="all 0s");break}return a});return w(()=>{h({uid:e==null?void 0:e.uid})}),W(()=>{t({uid:e==null?void 0:e.uid})}),(a,p)=>(g(),C("div",{class:"carousel-item-contant",style:T(v(r))},[M(a.$slots,"default",{},void 0,!0)],4))}});const ne=$(ae,[["__scopeId","data-v-2bbc3929"]]),le=N({__name:"index",setup(c){const e=o([{name:"五子棋",className:"gobang"},{name:"别踩白块",className:"stepblack"},{name:"音乐",className:"music"}]),l=o(),i=b(()=>{var u;return((u=l.value)==null?void 0:u.clientHeight)||0});return(u,h)=>(g(),C("div",{class:"container",ref_key:"node",ref:l},[A(v(te),{height:v(i)},{default:S(()=>[(g(!0),C(G,null,J(e.value,t=>(g(),K(v(ne),{key:t.name},{default:S(()=>[k("div",{class:O([t.className,"flex"]),style:{height:"100%","justify-content":"center","align-items":"center"}},null,2)]),_:2},1024))),128))]),_:1},8,["height"])],512))}});const ue=$(le,[["__scopeId","data-v-33e79576"]]);export{ue as default};
